<script lang="ts">
  import { Estimate } from '$lib/core/models/Estimate.svelte';
  import EstimateEditor from '$lib/ui/editor/EstimateEditor.svelte';
  import PrintLayout from '$lib/ui/print/PrintLayout.svelte';

  const estimate = new Estimate();
  
  // Bãƒ†ãƒ¼ãƒå›ºå®šï¼ˆå®˜å…¬åºæå‡ºå‘ã‘ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
  const isClassicMode = true;
</script>

<div class="flex flex-row min-h-screen bg-gray-800">
  
  <!-- å·¦ãƒ‘ãƒãƒ« (Editor) -->
  <div class="w-1/2 min-w-0 h-screen overflow-y-auto border-r border-gray-600 print:hidden">
    <EstimateEditor {estimate} />
  </div>

  <!-- å³ãƒ‘ãƒãƒ« (Preview) -->
  <div class="w-1/2 min-w-0 h-screen overflow-y-auto overflow-x-auto bg-gray-500 p-8 flex flex-col items-center print:w-full print:min-h-0 print:h-auto print:bg-white print:p-0 print:block print:items-stretch print:justify-start">
    
    <!-- â˜…è¿½åŠ : ã‚¹ã‚¿ã‚¤ãƒ«åˆ‡ã‚Šæ›¿ãˆã‚¹ã‚¤ãƒƒãƒ -->
  <div class="mb-4 bg-white px-4 py-2 rounded-full shadow flex items-center gap-3 print:hidden">
    <span class="text-xs font-bold font-ms-gothic text-gray-500">ã‚¹ã‚¿ã‚¤ãƒ«:</span>
    <span class="text-sm font-medium font-ms-gothic text-black">å½¹æ‰€æå‡ºç”¨ (å›ºå®š:B)</span>
  </div>

    <!-- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æœ¬ä½“ -->
    <div class="scale-100 origin-top print:scale-100">
      <!-- â˜…è¿½åŠ : isClassic ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ¸¡ã™ -->
      <PrintLayout {estimate} isClassic={isClassicMode} />
    </div>

  </div>
</div>

<!-- å°åˆ·ãƒœã‚¿ãƒ³ -->
  <button
  class="fixed bottom-8 right-8 bg-blue-600 hover:bg-blue-500 text-white font-bold font-ms-gothic py-4 px-8 rounded-full shadow-2xl flex items-center gap-2 print:hidden z-50 transition-transform hover:scale-105"
  onclick={() => window.print()}
>
  <span class="text-2xl">ğŸ–¨</span>
  <span>è¦‹ç©æ›¸ã‚’ç™ºè¡Œ</span>
</button>
